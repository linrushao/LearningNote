

#  Linux

# 1、linux开山篇

## 1.1、本套LInux课程的内容介绍

![image-20201216194942727](Linux.assets\image-20201216194942727.png)

![image-20201216195604341](Linux.assets\image-20201216195604341.png)

## 1.2、Linux的学习方向

- linux运维工程师
- linux嵌入式工程师
- linux下开发项目

![image-20201216200328759](Linux.assets\image-20201216200328759.png)

## 1.3、Linux的应用领域

### 1.3.1、个人桌面应用领域

​	此领域是传统 linux 应用最薄弱的环节，传统 linux 由于界面简单、操作复杂、应用软件少的缺点， 一直被 windows 所压制，但近些年来随着 ubuntu、fedora [fɪˈdɔ:rə] 等优秀桌面环境的兴起，同时各大 硬件厂商对其支持的加大，linux 在个人桌面领域的占有率在逐渐的提高。

![image-20201216201705328](Linux.assets\image-20201216201705328.png)

### 1.3.2服务器应用领域

​	linux 在服务器领域的应用是最强的。

​	linux **免费、稳定、高效**等特点在这里得到了很好的体现，近些年来 linux 服务器市场得到了飞速 的提升，尤其在一些高端领域尤为广泛。

### 1.3.3嵌入式应用领域

​	近些年来 linux 在嵌入式领域的应用得到了飞速的提高

​	**linux 运行稳定、对网络的良好支持性、低成本，且可以根据需要进行软件裁剪，内核最小可以 达到几百 KB 等特点**，使其近些年来在嵌入式领域的应用得到非常大的提高

​	主要应用：机顶盒、数字电视、网络电话、程控交换机、手机、PDA、智能家居、智能硬件等都 是其应用领域。以后再物联网中应用会更加广泛

# 2、基础篇 Linux 入门

## 2.1、Linux介绍

1. Linux怎么读  **liniukes**   **linnakes**   **lilikes**

2. linux是一款操作系统，特点：免费，开源。安全，高效，稳定，处理高并发强悍，现在很多的企业级的项目都部署到linux/Unix服务器上运行。

3. Linux创始人-linux 林纳斯

   ![image-20201216205613211](Linux.assets\image-20201216205613211.png)

4. Linux的吉祥物

![image-20201216205648200](Linux.assets\image-20201216205648200.png)

5. Linux主要的发行版

![image-20201216210258209](Linux.assets\image-20201216210258209.png)

6. 目前主要的操作系统

   windows，android，车载系统，linux等

![image-20201216210518209](Linux.assets\image-20201216210518209.png)

## 2.2、Linux和Unix的关系

![image-20201216213840245](Linux.assets\image-20201216213840245.png)

![image-20201216213853427](Linux.assets\image-20201216213853427.png)

## 2.3、Linux 是怎么来的

![image-20201216213926532](Linux.assets\image-20201216213926532.png)

## 2.4、linux 和 unix 关系一览图

![image-20201216213946385](Linux.assets\image-20201216213946385.png)

## 2.5、linux 和 Windows 比较![image-20201216214029695](Linux.assets\image-20201216214029695.png)

# 3、Linux基础篇 VM和Linux系统（CentOs）安装

## 3.1、安装VM和Linux系统

学习 Linux 需要一个环境，我们需要创建一个虚拟机，然后在虚拟机上安装一个 Centos 系统来学 习。

- 1)先安装 virtual machine ,vm12 
- 2)再安装 Linux (CentOS 6.8) 
- 3)原理示意图，这里我们画图说明一下 VM 和 CentOS 的关系。

![image-20201216221010140](Linux.assets\image-20201216221010140.png) 

## 3.2 这里在配置网络连接时，有三种形式，需要大家伙注意 ：



![image-20201217220022926](Linux.assets\image-20201217220022926.png)

# 4、基础篇Linux的目录结构

## 4.1、基本介绍

​		linux 的文件系统是采用级层式的树状目录结构，在此结构中的最上层是根目录“/”，然后在此目录下再创建其他的目录。 深刻理解 linux 树状文件目录是非常重要的，这里我给大家说明一下。

​		记住一句经典的话：**在 Linux 世界里，一切皆文件。**

![image-20201220095711754](Linux.assets\image-20201220095711754.png)

## 4.2、目录结构的具体介绍

具体的目录结构：

​	**/bin （/usr/bin, /usr/local/bin ）**

- 是Binary的缩写，这个目录存放着最经常使用的命令

​	/sbin（/usr/sbin，/usr/local/sbin）

- s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序

​	**/home**

- 存放普通用户的主目录，再Linux中每个用户都有一个自己的目录，一般该目录名是以用户的账户命名。

​	**/boot**

- 该目录为系统管理员，也称作超级权限组的用户主目录

​	/proc

- 这个目录是一个虚拟的目录 ，他是系统内存的映射，访问这个目录来获取系统信息。

​	/src

- service缩写，该目录存放一些服务启动之后需要提取的数据。

​	/sys

- 这是linux2.6内核的一个很大的变化，该目录下安装了2.6内核中新出现的一个文件系统

​	/tmp

- 这个目录是用来存放一些临时文件的。

​	/dex

- 类似于windows的设备管理器，把所有的硬件用文件的形式存储

​	**/media**

- linux系统会自动识别一些设备，例如U盘，光驱等等，当识别后，linux会把识别的设备挂在到这个目录下

​	**/mnt**

- 系统提供该目录是为了让用户临时改在别的文件系统的，我们可以将外部的存储挂在再/mnt/上，然后进入该目录就可以查看里面的内容

​	/opt

- 这个给主机额外安装软件所摆放的目录，如安装ORACLE数据库就可以放到该目录下。

​	/var

- 这个目录中存放着再不断扩充者的东西，习惯将进场被修改的目录放在这个目录下。包括各种日志文件。

​	/selinux[security-enhanced linux]360

- LELinux是一种安全子系统，他能控制程序只能访问特定文件

# 5、实操篇	远程登录Linux系统

## 5.1、为什么需要远程登录 Linux

### 5.1.1、示意图

![image-20201220102849211](Linux.assets\image-20201220102849211.png)



### 5.1.2、说明

​	说明: 公司开发时候， 具体的情况是这样的

​		1) linux 服务器是开发小组共享的.

​		2) 正式上线的项目是运行在公网的.

​		3) 因此程序员需要远程登录到 centos 进行项目管理或者开发.

​		4) 画出简单的网络拓扑示意图(帮助理解)

​		5) 远程登录客户端有 Xshell5， Xftp5 , 我们学习使用 Xshell5 和 Xftp , 其它的远程工具大同小异.

# 6、实操篇	vi和vim编辑器（必需）

## 6.1、vi和vim的基本介绍

​	所有的 Linux 系统都会内建 **vi 文本编辑器**。

​	Vim 具有**程序编辑的能力**，可以看做是 **Vi 的增强版本**，可以主动的以字体颜色辨别语法的正确 性，方便程序设计。代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。

## 6.2、vi 和 vim的三种常见模式

### 6.2.1正常模式

​	在正常模式下，我们可以使用快捷键。

​	以 vim 打开一个档案就直接进入一般模式了(这是默认的模式)。在这个模式中，你可以使用『上下左右』按键来移动光标，你可以使用『删除字符』或『删除整行』来处理档案内容， 也可以使用 『复制、贴上』来处理你的文件数据。

### 6.2.2插入模式/编辑模式

​	在模式下，程序员可以输入内容。

​	按下 i, I, o, O, a, A, r, R等任何一个字母之后才会进入编辑模式, 一般来说按 i 即可

### 6.2.3命令行模式

​	在这个模式当中， 可以提供你相关指令，完成读取、存盘、替换、离开 vim 、显示行号等的动
作则是在此模式中达成的！)

## 6.3 vi 和 vim 三种模式的相互转化图

![image-20201224104953778](Linux.assets\image-20201224104953778.png)

- :wq：保存并退出

- :q：退出(打开看，没有做任何修改)

- :q!：强制退出（直接退出，不保存）

## 6.4 vim 和 vi 的快捷键键盘一览图

![image-20201224112055442](Linux.assets\image-20201224112055442.png)

# 7、实操篇 开机、重启和用户登录注销

## 7.1 关机&重启命令

### 7.1.1基本介绍

shutdown 

​	shutdown -h now : 表示立即关机 

​	shutdown -h 1 : 表示 1 分钟后关机 

​	shutdown -r now: 立即重启

halt 

​	就是直接使用，效果等价于关机

reboot 

​	就是重启系统。

sync ： 把内存的数据同步到磁盘

### 7.1.2注意细节

当我们关机或者重启时，都应该先执行以下 sync 指令，把内存的数据写入磁盘，防止数据丢失。

## 7.2 用户登录和注销

### 7.2.1基本介绍

- 1) 登录时尽量少用 root 帐号登录，因为它是系统管理员，最大的权限，避免操作失误。可以利
  用普通用户登录，登录后再用”su - 用户名’命令来切换成系统管理员身份.
- 2) 在提示符下输入 logout 即可注销用户（只能远程登陆注销）

![image-20201224212652722](Linux.assets\image-20201224212652722.png)

### 7.2.2使用细节

- 1)logout 注销指令在图形运行级别无效，在 运行级别 3 下有效
- 2)运行级别这个概念，后面给大家介绍

# 8、实操篇 用户管理

## 8.1 基本介绍

​	给大家画一个示意图，帮助大家理解用户管理规则

![image-20201224214756842](Linux.assets\image-20201224214756842.png)

说明：

- Linux系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统
- Linux的用户需要至少属于一个组

## 8.2 添加用户

### 8.2.1基本语法

​		useradd [选项] 用户名

### 8.2.2实际案例

添加一个用户 xm.

![image-20201224215146869](Linux.assets\image-20201224215146869.png)

**特别说明**

ad	表示change directory，切换目录

![image-20201224215610021](Linux.assets\image-20201224215610021.png)

### 8.2.3细节说明

- 当用户创建成功后，会自动的创建和用户同名的家目录
- 也可以通过useradd -d 指定目录   性的用户名，给新创建的用户指定家目录

![image-20201224220348616](Linux.assets\image-20201224220348616.png)

## 8.3 给用户指定或者修改密码

基本语法

passwd 用户名

应用案例

​	1) 给 xiaoming 指定密码

![image-20201224220441196](Linux.assets\image-20201224220441196.png)

## 8.4 删除用户

### 8.4.1基本语法

userdel 用户名

### 8.4.2应用案例

- 删除用户xm，但是要保留家目录

![image-20201224221728453](Linux.assets\image-20201224221728453.png)

- 删除用户xh一级用户主目录

![image-20201224221758575](Linux.assets\image-20201224221758575.png)

## 8.5 查询用户信息

### 8.5.1基本语法

id 用户名

### 8.5.2应用实例

案例 1：请查询 root 信息

![image-20201224222054607](Linux.assets\image-20201224222054607.png)

uid：用户id号

gid：用户所在组的id

组：用户是哪个组

### 8.5.3细节说明

1) 当用户不存在时，返回”无此用户”

## 8.6 切换用户

### 8.6.1介绍

在操作 Linux 中，如果当前用户的权限不够，可以通过 su - 指令，切换到高权限用户，比如 root

### 8.6.2基本语法

su – 切换用户名

### 8.6.3应用实例

​	1) 创建一个用户 zf, ，指定密码，然后切换到 zf.

![image-20201224222413124](Linux.assets\image-20201224222413124.png)

exit：返回原来的用户

### 8.6.4细节说明

- 从权限高的用户切换到权限低的用户，不需要密码，反之需要
- 当需要返回到原来的用户，使用exit指令

## 8.7 用户组

### 8.7.1介绍

​	类似于角色，系统可以对有共性的多个用户进行统一的管理。

### 8.7.2增加组

​	groupadd 组名

### 8.7.3案例演示

![image-20201225205006091](Linux.assets\image-20201225205006091.png)+

### 8.7.4删除组

​	指令(基本语法)

​	groupdel 组名

### 8.7.5案例演示

![image-20201225205732674](Linux.assets\image-20201225205732674.png)

## 8.8 增加用户时直接加上组

### 8.8.1指令(基本语法)

useradd -g 用户组 用户名

### 8.8.2案例演示

​	增加一个用户 zwj, 直接将他指定到 wudang

​	步骤看演示：

![image-20201225205837504](Linux.assets\image-20201225205837504.png)

## 8.9 修改用户的组

### 8.9.1指令(基本语法)

​	usermod -g 用户组 用户名

### 8.9.2案例演示

​	创建一个 shaolin 组，让将 zwj 用户修改到 shaolin

![image-20201225210131109](Linux.assets\image-20201225210131109.png)

## 8.10 /etc/passwd 文件

​	**vim /etc/passwd**

​	用户（user）的配置文件，记录用户的各种信息

![image-20201225211040948](Linux.assets\image-20201225211040948.png)

## 8.11 /etc/shadow 文件

​	口令的配置文件	

​	每行的含义：登录名：加密口令：最后一次修改时间：最小时间间隔：最大时间间隔.警告时间.不活动时间.失效时间：标志

## 8.12 /etc/group 文件

​	组配置文件，记录Linux包含的组的信息

​	每行含义：组名：口令：组标识号：组内用户列表

![image-20201225211746767](Linux.assets\image-20201225211746767.png)

# 第 9 章 实操篇 实用指令

## 9.1 指定运行级别

运行级别说明：

- 0：关机
- 1：单用户【找回丢失密码】
- 2：多用户就状态没有网络服务
- 3：多用户状态有网络服务
- 4：系统未使用保留给用户
- 5：图形界面
- 6：系统重启
- 常用运行级别是3和5，要修改默认的运行级别可改文件
- /etc/inittab的id：5：initdefault：这一行中的数字

运行级别的示意图：

![image-20201225212223756](Linux.assets\image-20201225212223756.png)

## 9.2 切换到指定运行级别的指令

### 9.2.1基本语法

init [012356]

![image-20201225212744003](Linux.assets\image-20201225212744003.png)

### 9.2.2应用实例

​	案例 1： 通过 init 来切换不同的运行级别，比如动 5->3 ， 然后关机 init 3

​	init 3 

​	init 5 

​	init 0

## 9.3 帮助指令

### 9.3.1介绍

​	当我们对某个指令不熟悉时，我们可以使用 Linux 提供的帮助指令来了解这个指令的使用方法

### 9.3.2man 获得帮助信息

- 基本语法

  man [命令或配置文件]（功能描述：获得帮助信息）

- 应用实例

  案例：查看 ls 命令的帮助信息

![image-20201227094617394](Linux.assets\image-20201227094617394.png)

### 9.3.3help 指令

- 基本语法

  ​	help 命令 （功能描述：获得 shell 内置命令的帮助信息）

- 应用实例

  ​	案例：查看 cd 命令的帮助信息

![image-20201227094702787](Linux.assets\image-20201227094702787.png)

### 9.3.4当一个指令不熟悉如何学习的建议

​	百度帮助更直接

​	虽然上面两个都可以来获取指令帮助，但是需要英语功底，如果英语不太好的，我还是推荐大家

直接百度靠谱。 ifconfig

![image-20201227094822230](Linux.assets\image-20201227094822230.png)

## 9.4 文件目录类

### 9.4.1pwd 指令

- 基本语法

  ​	pwd（功能描述：心事当前工作目录的绝对路径）

- 应用实例

![image-20201227095619484](Linux.assets\image-20201227095619484.png)

### 9.4.2ls 指令

- 基本语法

  ​	ls 【选项】 【目录或是文件】

- 常用选项

  ​	-a : 显示当前目录所有的文件和目录

  ​	-l：以列表的方式显示信息

- 应用实例

  ​	案例：查看当前目录所有内容信息

![image-20201227102618297](Linux.assets\image-20201227102618297.png)

![image-20201227102625798](Linux.assets\image-20201227102625798.png)

### 9.4.3cd 指令

- 基本语法

  ​	cd 【参数】（功能描述：切换到指定目录）

- 常用参数

  ​	绝对路径和相对路径

  ​	如何理解绝对路径和相对路径

![image-20201227102758947](Linux.assets\image-20201227102758947.png)

### 9.4.4mkdir 指令

​	mkdir 指令用于创建目录(make directory)

- 基本语法

  ​	mkdir 【选项】 要创建的目录

- 常用选项

  ​	-p：创建多级目录

- 应用实例

  ​	案例1：创建多级目录

![image-20201227104025600](Linux.assets\image-20201227104025600.png)

​		案例 2:创建多级目录 /home/animal/tiger

![image-20201227104214793](Linux.assets\image-20201227104214793.png)

### 9.4.5rmdir 指令

- 介绍

  rmdir 指令删除空目录

- 基本语法

  rmdir 【选项】 要删除的空目录

- 应用实例

  案例1：删除一个目录 /home/dog

![image-20201227104614102](Linux.assets\image-20201227104614102.png)



- 使用细节

  rmdir 删除的是空目录，如果目录下有内容时无法删除

  提示：如果需要删除非空目录，需要使用 rm -rf 要删除的目录

![image-20201227105837230](Linux.assets\image-20201227105837230.png)

### 9.4.6touch 指令

​	touch指令创建空文件

- 基本语法

  ​	touch 文件名称

- 应用实例

  ​	案例1：创建一个空文件 hello.txt

  ![image-20201227110001101](Linux.assets\image-20201227110001101.png)

### 9.4.7cp 指令[重要]

cp 指令拷贝文件到指定目录

- 基本语法

  ​	cp 【选项】 source dest

- 常用选项

  ​	-r ：递归复制整个文件夹

- 应用实例

  ​	案例1：将 /home/aaa.txt 拷贝到 /home/bbb 目录下[拷贝单个文件]

![image-20201229114324097](Linux.assets\image-20201229114324097.png)

​			案例 2: 递归复制整个文件夹，举例

![image-20201229114836689](Linux.assets\image-20201229114836689.png)

- 使用细节

  ​		强制覆盖不提示的方法：\cp

  ![image-20201229114917475](Linux.assets\image-20201229114917475.png)

技术小技巧:

​	可以通过 上下箭头的键，调用原来使用过的 指令